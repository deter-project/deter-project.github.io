<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Migrating Your Materials - DeterLab Documentation (DEPRECATED)</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Migrating Your Materials";
        var mkdocs_page_input_path = "education/migrating-materials.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
    <a href="" class="icon">
      <!--REPLACE LOGO FILE HERE -->
      <img class="logo" style="float:left" src="img/doc-logo.png"/> 
      <span class="title">DeterLab Documentation (DEPRECATED)</span></a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Welcome to the DETERLab Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../Glossary/">Glossary</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Opening Account</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/research/">Research users</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/class/">Class users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Running Experiments</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/topology/">Create a topology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/create/">Create an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/swapin/">Swap in an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/interact/">Use your nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/swapout/">Swap out or terminate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/user-guidelines/">User DOs and DON'Ts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../containers/containers-quickstart/">Containers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dsc/">Nework Emulation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/risky-experiment/">Risky Experiments</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://binary.deterlab.net/docs">Binary Analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../competitions/">Competitions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../orchestrator/">Orchestrator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dash/">Human user emulation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sharing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/sample-topologies/">Sample Topologies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/sharing/">Shared Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deterlab for Classes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../">Education Materials Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../guidelines-for-teachers/">Guidelines for Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../class-support/">Class Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../course-setup/">Course Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../good-teaching-practices/">Good Teaching Practices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../connect-with-teachers/">Connect With Other Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../guidelines-for-students/">Guidelines for Students</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../public-materials/">Public Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/deterlab-commands/">DETERLab commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/ns-commands/">NS commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Support</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/migration/">Migration Instructions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/getting-help/">Getting Help</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/faqs/">FAQs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../support/usage-policy/">Usage Policy</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">DeterLab Documentation (DEPRECATED)</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">Migrating Your Materials</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="migrating-your-materials">Migrating Your Materials<a class="headerlink" href="#migrating-your-materials" title="Permanent link"></a></h1>
<p>These instructions assume that you had a mix of shared materials and your own private materials in your class.</p>
<h2 id="migrating-shared-materials">Migrating Shared Materials<a class="headerlink" href="#migrating-shared-materials" title="Permanent link"></a></h2>
<p>If you have used shared materials in your class, they have all been updated. You simply need to delete them from your class and re-adopt them.</p>
<h2 id="migrating-private-materials">Migrating Private Materials<a class="headerlink" href="#migrating-private-materials" title="Permanent link"></a></h2>
<p>To migrate private materials, you should apply the following steps.</p>
<h3 id="create-topology-file">Create Topology File<a class="headerlink" href="#create-topology-file" title="Permanent link"></a></h3>
<p>These instructions can be followed for each private exercise</p>
<ol>
<li>
<p>If you have a custom NS file in your instructions, <strong>on old DeterLab</strong> you can translate it into new topology format. On <strong>users.deterlab.net</strong> run <code>perl /usr/local/bin/ns2model.pl &lt;projname&gt; &lt;expname&gt; &lt;path-to-ns-file&gt;</code>. The new topology file will be printed out.</p>
</li>
<li>
<p>You can copy the topology onto your clipboard and include it in your instructions to students. Then ask your students to follow <a href="https://mergetb.org/docs/experimentation/hello-world-gui/">this guide</a> to start an experiment with that topology (or in Merge speak "model"). You can also take additional steps to enable students to run experiments with the given topology from their XDC by using <code>startexp</code>. The following steps cover this second use case.</p>
</li>
</ol>
<h3 id="create-protected-project">Create Protected Project<a class="headerlink" href="#create-protected-project" title="Permanent link"></a></h3>
<p>These instructions should be followed only once per class (not per class offering)</p>
<ol>
<li>Log into <a href="https://launch.mod.deterlab.net">our new platform</a> and click on Projects. Create a new project in your organization (usually your organization will be your class name). You only have to do this once.
<img alt="" src="../newproject.png" />
Make the project protected:
<img alt="" src="../protected.png" /></li>
<li>
<p>Click on XDC on the left menu, then create an XDC in your new project. Please wait around 5 minutes for XDC to be fully initialized.</p>
</li>
<li>
<p>Click on XDC on the left menu, then click on Jupyter and then on Terminal app. Only the first time you access this XDC, type the text below in the Terminal, replacing <code>yourusername</code> and <code>yourpassword</code> with your actual information.</p>
</li>
</ol>
<pre><code>su - yourusername
echo &quot;PATH=$PATH:/share&quot; &gt; .profile
echo yourpassword &gt; pass.txt
exit
su - yourusername
</code></pre>
<p>Every other time you access the XDC look at the command line prompt. If the prompt looks like <code>#</code>, type</p>
<pre><code>su - yourusername
</code></pre>
<h3 id="add-students-to-project">Add Students to Project<a class="headerlink" href="#add-students-to-project" title="Permanent link"></a></h3>
<p>These instructions should be followed once per class offering</p>
<ol>
<li>Type the command below, replacing <code>projname</code> and <code>org</code> with your actual information. You need to do this only once per semester.
  <code>addstudents projname org</code></li>
</ol>
<p>This will add all your current students to your new project.</p>
<p>If new students enroll into your class you can repeat this action without any ill consequences.</p>
<h3 id="populating-private-lab">Populating Private Lab<a class="headerlink" href="#populating-private-lab" title="Permanent link"></a></h3>
<ol>
<li>Create a folder structure that looks like illustrated in the figure below. Red text denotes names of files or folders that should not be changed. Files are denoted by F and folders by D label. Our example assumes you had three-node topology with node names X, Y and Z. Nodes X and Y needed some set up for your lab and node Z did not. All node names are listed in <code>nodes</code> file. Only those nodes that need setup have a separate folder with <code>install</code> script inside. That script should have <code>a+rx</code> permissions. You can see sample <code>install</code> scripts in the illustration. If there are any files or folders that should be copied onto individual nodes at setup time, please place them into the corresponding nodes' folders and they will be copied when students run <code>runlab</code>. In the illustration, file <code>file1</code> will be copied onto <code>/tmp/X</code> folder on node <code>X</code> and folder <code>folder1</code> will be copied into <code>/tmp/Y/folder1</code> on node <code>Y</code>.</li>
</ol>
<p><img alt="" src="../folderstruct.png" /></p>
<p>If you previously used start-cmd to set up your nodes, then in each install file you would copy-paste the contents of the start-cmd script you originally had. You will also need to modify these contents in the following way.</p>
<ul>
<li>
<p>For each command that uses a file from a user's home directory, a project directory or /share directory, you will need to copy that file into the given subfolder in /organization, and modify the command to look for it in the node's local <code>/tmp</code> folder under the folder with the node's name.</p>
</li>
<li>
<p>For example if node <code>a</code> previously ran a start-cmd directive that was doing <code>somecmd /share/somefile</code> you would copy <code>somefile</code> from old DeterLab into <code>/organizations/labname/a/somefile</code> on your XDC. See <a href="https://mergetb.org/docs/experimentation/xdc/#copying-files-to-or-from-your-xdc">our scp instructions</a> for how to copy files. You can also see some step-by-step examples <a href="https://www.isi.deterlab.net/file.php?file=/share/education/twonode/html">in this lab exercise</a>.</p>
</li>
<li>
<p>Once you copy the file, you would also change the command from <code>somecmd /share/somefile</code> to <code>somecmd /tmp/a/somefile</code>. In the illustration this is done to copy contents of <code>folder1</code> into <code>/var/www/html</code> on node <code>Y</code>.</p>
</li>
</ul>
<h2 id="how-can-students-run-exercises">How Can Students Run Exercises<a class="headerlink" href="#how-can-students-run-exercises" title="Permanent link"></a></h2>
<ol>
<li>
<p>Your students can run shared exercises by typing <code>startexp labname</code> as described in <a href="https://mergetb.org/docs/experimentation/classes/#working-on-assignments">guidelines for students</a></p>
</li>
<li>
<p>Your students can run your private exercises by typing <code>startexp labname -o projname</code> or they can follow <a href="https://mergetb.org/docs/experimentation/hello-world-gui/">this guide</a> to start an experiment with the topology you give them in student materials.</p>
</li>
</ol>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2018 <a href="https://www.deter-project.org/">DETER Project</a>.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
  <script>var base_url = '../..';</script>
  <script src="../../js/theme.js"></script>
    <script src="../../search/main.js"></script>
  <!-- this makes the active part of the navigation sidebar scroll to top -->
<script type="text/javascript">
$(document).ready(function () {

  if ($("a").hasClass("current")) {
    var container = $("nav"),
    scrollTo = $("a.current");

    container.scrollTop(
    scrollTo.offset().top - container.offset().top + container.scrollTop() - 92
    );
    
    }
});
</script>

</body>
</html>
