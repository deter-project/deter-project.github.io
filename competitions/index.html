<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Competitions - DeterLab Documentation (DEPRECATED)</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Competitions";
        var mkdocs_page_input_path = "competitions/index.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
    <a href="" class="icon">
      <!--REPLACE LOGO FILE HERE -->
      <img class="logo" style="float:left" src="img/doc-logo.png"/> 
      <span class="title">DeterLab Documentation (DEPRECATED)</span></a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to the DETERLab Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Glossary/">Glossary</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../quickstart/">Quickstart</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Opening Account</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../support/research/">Research users</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../support/class/">Class users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Running Experiments</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../core/topology/">Create a topology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/create/">Create an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/swapin/">Swap in an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/interact/">Use your nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/swapout/">Swap out or terminate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/user-guidelines/">User DOs and DON'Ts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Features</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../containers/containers-quickstart/">Containers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dsc/">Nework Emulation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/risky-experiment/">Risky Experiments</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://binary.deterlab.net/docs">Binary Analysis</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Competitions</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#enabling-competitions">Enabling competitions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#new-competition">New competition</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#writing-start-up-scripts-for-competitions"> Writing start up scripts for competitions</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#managing-your-competition">Managing your competition</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#set-up">Set up</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#team-access">Team access</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bulding-teams">Bulding teams</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#run">Run</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#retiring-the-competition">Retiring the competition</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#destroy">Destroy</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../orchestrator/">Orchestrator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dash/">Human user emulation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sharing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../core/sample-topologies/">Sample Topologies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/sharing/">Shared Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deterlab for Classes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../education/">Education Materials Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/guidelines-for-teachers/">Guidelines for Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/class-support/">Class Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/course-setup/">Course Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/good-teaching-practices/">Good Teaching Practices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/connect-with-teachers/">Connect With Other Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/guidelines-for-students/">Guidelines for Students</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../education/public-materials/">Public Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../core/deterlab-commands/">DETERLab commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/ns-commands/">NS commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Support</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../support/migration/">Migration Instructions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../support/getting-help/">Getting Help</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../support/faqs/">FAQs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../support/usage-policy/">Usage Policy</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">DeterLab Documentation (DEPRECATED)</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
          <li>Advanced Features &raquo;</li>
      <li class="breadcrumb-item active">Competitions</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="admonition important">
<p class="admonition-title">Important</p>
<p>Our current support for competitions is limited. Please read this page carefully. </p>
</div>
<h1 id="competitions-on-deterlab">Competitions on DETERLab<a class="headerlink" href="#competitions-on-deterlab" title="Permanent link"></a></h1>
<p>DETERLab can be used to run attack/defense exercises between teams of students or researchers. In such an exercise, a given experiment will be accessed by two teams - a blue (defense) team and a red (offense) team. DETERLab competitions UI enables:</p>
<ul>
<li>Easy creation of experiments and teams</li>
<li>Specification of which teams can access which experiments and which machines in an experiment</li>
<li>Experiment setup (swap in, application installation)</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Examples below assume that you want to run a competiton called <em>MyComp</em> in a class called <em>MyClass</em> on our new infrastructure. You will also need a project, which we will assume is called <em>MyCompProject</em>.</p>
</div>
<h2 id="enabling-competitions">Enabling competitions<a class="headerlink" href="#enabling-competitions" title="Permanent link"></a></h2>
<p>If you wish to run competitions within your DETERLab project, please submit a ticket and provide rough estimates of how often you would run and how many machines you would need. We will review and enable competitions feature for your project.</p>
<h2 id="new-competition">New competition<a class="headerlink" href="#new-competition" title="Permanent link"></a></h2>
<p>You can create a new competition from your "My DETERLab" view. There will be a "Competitions" tab once you have a competition-enabled project. From that tab, you can click on the left-hand menu option "New competition".</p>
<p>The dialogue will ask you for the competition name and folder path. Currently you <em>must</em> specify a path to a folder that has a file called <em>nodes</em>, with each node's name on a separate line. Let's assume that you have specified a path to folder named <em>MyComp</em>.</p>
<p>The dialogue will also ask you how many copies of the competition you need and whether team assignment should be "paired" or "circular". The figures below illustrate these two assignment types.  </p>
<p>In a circular assignment there are as many teams as there are experiments. Each team defends one experiment and attacks one other experiment. This team assignment enables participants on each team to play both defensive and offensive roles.</p>
<p><img alt="Circular Assigment" src="../img/circular.png" title="Circular team assignment" /></p>
<p>In a paired assignment the number of teams is twice that of the experiments. Each team either defends one experiment or attacks one experiment. This team assignment places each participant into either offensive or defensive role. </p>
<p><img alt="Paired Assigment" src="../img/paired.png" title="Paired team assignment" /> </p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We currently only support the circular assignment.</p>
</div>
<p>Once you click "Submit" DETERLab will create a teams for your competition.</p>
<h3 id="writing-start-up-scripts-for-competitions"><a name="writing"></a> Writing start up scripts for competitions<a class="headerlink" href="#writing-start-up-scripts-for-competitions" title="Permanent link"></a></h3>
<p>Instead of start up scripts, please leverage our support for project-specific experiments, described <a href="https://docs.deterlab.net/education/migrating-materials/#migrating-private-materials">here</a>. These guidelines also describe how these materials need to be in a separate project on our new platform, and that project has to be in your class organization. Please create this project, which we will refer to as <em>MyCompProject</em> in the rest of this documentation.</p>
<h2 id="managing-your-competition">Managing your competition<a class="headerlink" href="#managing-your-competition" title="Permanent link"></a></h2>
<p>Once your competition is created you can see it in the competitions tab. You can set it up, run it or destroy it. </p>
<h3 id="set-up">Set up<a class="headerlink" href="#set-up" title="Permanent link"></a></h3>
<p>Set up includes: (1) specifying which teams can access which machines, (2) assigning participants to teams.</p>
<h4 id="team-access">Team access<a class="headerlink" href="#team-access" title="Permanent link"></a></h4>
<p>Each experiment has a number of machines. You can specify which team can access each machine: defense (blue) team, offense (red) team or none. Blue team machines will be defended in a competition, red team machines will be used to launch attacks on blue team. You can use machines with no-team access for scoring or infrastructure set up (e.g. set up DNS root server that can be queried but not modified by teams). When you are finished, click "Assign" then "Done". You can always repeat this action, as long as the competition is not swapped in. Otherwise, you have to swap it out to change team access.</p>
<h4 id="bulding-teams">Bulding teams<a class="headerlink" href="#bulding-teams" title="Permanent link"></a></h4>
<p>You can assign a participant to a team by dragging him/her into the gray blocks for the desired team. A participant can belong to at most one team. When you are finished click "Assign" then "Done". You can always repeat this action, as long as the competition is not swapped in. If a participant shows up after you have swapped in the competition, you have to swap out, add the participant, and swap in again.</p>
<h3 id="run">Run<a class="headerlink" href="#run" title="Permanent link"></a></h3>
<p>The past two steps created some files in <strong>/proj/yourProjectOnOldInfrastructure/MyComp</strong>. On our new platform create a project for your competition, if you haven't already. Assume the project's name is  <em>MyCompProject</em>. Create an XDC in the <em>MyCompProject</em>, assume its name is <em>MyCompXDC</em>.   Copy the entire folder from <strong>/proj/yourProjectOnOldInfrastructure/MyComp</strong> over to <em>MyCompXDC</em>. See <a href="https://mergetb.org/docs/experimentation/xdc/#copying-files-to-or-from-your-xdc">here</a> how to copy files to your XDC. Something like this should work on <em>users.deterlab.net</em>:</p>
<pre><code>mrg xdc ssh upload -r /proj/yourProjectOnOldInfrastructure/MyComp MyCompXDC.MyCompProject
</code></pre>
<p>If you haven't already, make all your students part of the <em>MyCompProject</em> by typing on MyCompXDC:</p>
<pre><code>/share/addstudents MyCompProject MyClass
</code></pre>
<p>Then to create competition experiments run the following on MyCompXDC:</p>
<pre><code>/share/startcompetition MyCompProj exp_name num_teams folder_w_model MyComp
</code></pre>
<p>This will simply generate a script, which you then need to run via bash and monitor to ensure that everything progressed smoothly.</p>
<p>Imagine that you ran the following command:</p>
<pre><code>/share/startcompetition compddos ddos 4 ddosf /users/jelena/ddosc
</code></pre>
<p>This would generate a script to create experiments named ddos1, ddos2, ddos3 and ddos4 in your project compddos on the new infrastructure. It would mine team membership information and which machines should be accessible to red and blue teams from /users/jelena/ddosc folder (which was previously copied over from old DeterLab) and it would use startup scripts and topology model from /organization/ddosf.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is currently very difficult to add a new student to a running competition so please ensure that your team assignments are complete before you start the competition.</p>
</div>
<h4 id="retiring-the-competition">Retiring the competition<a class="headerlink" href="#retiring-the-competition" title="Permanent link"></a></h4>
<p>You must manually release the machines (swap out) when your competition is done. </p>
<h3 id="destroy">Destroy<a class="headerlink" href="#destroy" title="Permanent link"></a></h3>
<p>When you are completely done with your competition, click the "Destroy" button. This will remove the teams. It is important to clean up your competitions when you don't need them anymore to preserve DETERLab's resources.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../core/risky-experiment/" class="btn btn-neutral float-left" title="Risky Experiments"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../orchestrator/" class="btn btn-neutral float-right" title="Orchestrator">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2018 <a href="https://www.deter-project.org/">DETER Project</a>.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../core/risky-experiment/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../orchestrator/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
  <script>var base_url = '..';</script>
  <script src="../js/theme.js"></script>
    <script src="../search/main.js"></script>
  <!-- this makes the active part of the navigation sidebar scroll to top -->
<script type="text/javascript">
$(document).ready(function () {

  if ($("a").hasClass("current")) {
    var container = $("nav"),
    scrollTo = $("a.current");

    container.scrollTop(
    scrollTo.offset().top - container.offset().top + container.scrollTop() - 92
    );
    
    }
});
</script>

</body>
</html>
