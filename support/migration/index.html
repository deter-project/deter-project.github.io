<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Migration Instructions - DeterLab Documentation (DEPRECATED)</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Migration Instructions";
        var mkdocs_page_input_path = "support/migration.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
    <a href="" class="icon">
      <!--REPLACE LOGO FILE HERE -->
      <img class="logo" style="float:left" src="img/doc-logo.png"/> 
      <span class="title">DeterLab Documentation (DEPRECATED)</span></a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Welcome to the DETERLab Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../Glossary/">Glossary</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Opening Account</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../research/">Research users</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../class/">Class users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Running Experiments</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/topology/">Create a topology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/create/">Create an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/swapin/">Swap in an experiment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/interact/">Use your nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/swapout/">Swap out or terminate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/user-guidelines/">User DOs and DON'Ts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../containers/containers-quickstart/">Containers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dsc/">Nework Emulation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/risky-experiment/">Risky Experiments</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://binary.deterlab.net/docs">Binary Analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../competitions/">Competitions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../orchestrator/">Orchestrator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dash/">Human user emulation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sharing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/sample-topologies/">Sample Topologies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/sharing/">Shared Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deterlab for Classes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/">Education Materials Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/guidelines-for-teachers/">Guidelines for Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/class-support/">Class Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/course-setup/">Course Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/good-teaching-practices/">Good Teaching Practices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/connect-with-teachers/">Connect With Other Teachers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/guidelines-for-students/">Guidelines for Students</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../education/public-materials/">Public Materials</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/deterlab-commands/">DETERLab commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/ns-commands/">NS commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Support</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Migration Instructions</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#migrating-class-projects">Migrating Class Projects</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#migrating-research-projects">Migrating Research Projects</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getting-help/">Getting Help</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../faqs/">FAQs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usage-policy/">Usage Policy</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">DeterLab Documentation (DEPRECATED)</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
          <li>Support &raquo;</li>
      <li class="breadcrumb-item active">Migration Instructions</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is updated to show the workflow with our <a href="https://launch.mod.deterlab.net/">new platform</a>.</p>
</div>
<h1 id="migration-instructions">Migration Instructions<a class="headerlink" href="#migration-instructions" title="Permanent link"></a></h1>
<p>At this time <strong>all</strong> projects must migrate to our <a href="https://launch.mod.deterlab.net/">new platform</a>. Class projects can continue to use this user interface for class management purposes. All experimentation will occur on our new platform and old machines will be decomissioned. Instructions below show how to migrate existing projects to our new platform.</p>
<h2 id="migrating-class-projects">Migrating Class Projects<a class="headerlink" href="#migrating-class-projects" title="Permanent link"></a></h2>
<ol>
<li>Edit your User Profile to set up Merge password (it is currently set at random, please reset it to a string of your choosing if you wish). See illustrations below.</li>
</ol>
<p>Access your profile:</p>
<p><img alt="" src="../profile.png" /></p>
<p>Edit profile:</p>
<p><img alt="" src="../editprofile.png" /></p>
<p>Set up Merge password:</p>
<p><img alt="" src="../mergepass.png" />
2. Click on <em>Teaching</em> tab, then choose your class and click on <em>Migrate Class</em> from the left menu.</p>
<p>To migrate your existing class materials please see <a href="../../education/migrating-materials">our guidelines here</a>.</p>
<p>After you have migrated your class you can continue using this
interface to manage your materials and students. Students will use
our new platform to perform experiments. Your, TAs' and students' accounts will be synchronized between the two platforms (same
usernames and passwords). You can read more about the new
platform and how students use it <a href="https://mergetb.org/docs/experimentation/classes/">here</a>.</p>
<h2 id="migrating-research-projects">Migrating Research Projects<a class="headerlink" href="#migrating-research-projects" title="Permanent link"></a></h2>
<ol>
<li>Carefully read <a href="https://mergetb.org/docs/">Merge documentation</a></li>
<li>Apply for account on the new DeterLab <a href="https://launch.mod.deterlab.net/registration">here</a>. Please select a password that is strong but easy for you to remember and type. For example, passwords that contain 5+ words significant to you should work.</li>
<li>Wait for approval, which should arrive via email</li>
<li>Log into  <code>users.deterlab.net</code> and edit <code>.ssh/config</code> file by following instructions <a href="https://mergetb.org/docs/experimentation/xdc/#ssh-configuration-for-old-openssh-versions">here</a>.</li>
<li>Set up an XDC (experiment development container), which will serve as your gateway into the new DeterLab, by following the instructions <a href="https://mergetb.org/docs/experimentation/hello-world-gui/#create-an-xdc">here</a>.  If everything is set up correctly, you should be able to SSH into your first XDC by typing on <code>users.deterlab.net</code> the following command <code>ssh &lt;xdcname&gt;-&lt;yourusername&gt;</code>. There is no need to create new experiments at this step, although you are welcome to try it.</li>
<li>Migrate your projects, experiments and data by following instructions below this list</li>
<li>Put in a <a href="../getting-help/">DeterLab ticket</a> to let us know you have migrated your items.</li>
<li>From this point on please do not use old DeterLab anymore.</li>
</ol>
<p>To migrate a project X using your new username U, type on <code>users.deterlab.net</code>:</p>
<pre><code>migrate U X (you will be prompted for password)
</code></pre>
<p>Experiments in your project will be automatically converted and migrated to a new project on our new infrastructure. Project and experiment naming conventions have changed, so you may notice some differences. New project and experiment names must be all lower-case and alphanumeric only. In addition to this, current OS images on the new infrastructure differ from the existing OS images, and there is currently no support for startup commands. Thus, during experiment conversion OS, hardware and startup directives are skipped.</p>
<p>You will also need to migrate any data in your personal user directory, which you want to keep. To do so, create folder <code>newdeter</code> in your home directory, and move into it all files and folders that you want to keep. Then run:</p>
<pre><code>migrate U (you will be prompted for password)
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can only support migration of up to 10 GB per user or per project. Please delete any large files that you will not need going forward. If you need more space, please contact us at <a href="mailto: testbed-ops@isi.deterlab.net">testbed-ops@isi.deterlab.net</a></p>
</div>
<h1 id="migration-faq">Migration FAQ<a class="headerlink" href="#migration-faq" title="Permanent link"></a></h1>
<h2 id="who-should-migrate">Who should migrate?<a class="headerlink" href="#who-should-migrate" title="Permanent link"></a></h2>
<p>All research projects and users (project leaders and research students) should migrate to our new infrastructure by May 1st, 2023. Class users and projects can remain on the old infrastructure until summer 2023. They should plan to migrate over the summer. If you are project leader on DeterLab and you have both research and class projects, you should migrate your account and your research projects now.</p>
<h2 id="what-are-the-advantages-of-the-new-infrastructure">What are the advantages of the new infrastructure?<a class="headerlink" href="#what-are-the-advantages-of-the-new-infrastructure" title="Permanent link"></a></h2>
<p>There are multiple advantages to users from migrating to the new infrastructure:</p>
<ul>
<li>You will be able to request virtual machines, and thus run larger scale experiments.</li>
<li>You should experience less resource contention. It will be easier to obtain resources.</li>
<li>Experiments will be set up quickly - within seconds instead of minutes</li>
<li>Experiment specification errors will be caught early, before resources are committed</li>
<li>All experiments will have external access for software installation</li>
</ul>
<h2 id="what-are-the-differences-between-the-old-and-the-new-infrastructure">What are the differences between the old and the new infrastructure?<a class="headerlink" href="#what-are-the-differences-between-the-old-and-the-new-infrastructure" title="Permanent link"></a></h2>
<ul>
<li>The new infrastructure is running a new software, called Merge, which is more stable, robust and modular than the old software.</li>
<li>The new infrastructure has all new hardware - end servers and switches - and will be more stable.</li>
<li>The new infrastructure has a new UI for experiment management (creation, swap in/out, termination)</li>
<li>The new infrastructure has a new access process: you still SSH twice but the SSH process should be smoother</li>
<li>The new infrastructure has a new topology definition language</li>
</ul>
<h2 id="where-can-i-learn-more">Where can I learn more?<a class="headerlink" href="#where-can-i-learn-more" title="Permanent link"></a></h2>
<ul>
<li>Please read <a href="https://mergetb.org/docs/">Merge documentation</a></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../core/ns-commands/" class="btn btn-neutral float-left" title="NS commands"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../getting-help/" class="btn btn-neutral float-right" title="Getting Help">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2018 <a href="https://www.deter-project.org/">DETER Project</a>.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../core/ns-commands/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../getting-help/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
  <script>var base_url = '../..';</script>
  <script src="../../js/theme.js"></script>
    <script src="../../search/main.js"></script>
  <!-- this makes the active part of the navigation sidebar scroll to top -->
<script type="text/javascript">
$(document).ready(function () {

  if ($("a").hasClass("current")) {
    var container = $("nav"),
    scrollTo = $("a.current");

    container.scrollTop(
    scrollTo.offset().top - container.offset().top + container.scrollTop() - 92
    );
    
    }
});
</script>

</body>
</html>
